import{w as x,y as h,v as u,p as e}from"./chunk-NISHYRIK-BTx4j41q.js";function b({}){return[{title:"結果 - AWS CloudOps試験対策"},{name:"description",content:"クイズの結果と統計"}]}const N=x(function(){const i=h(),r=u(),{session:a,statistics:s}=i.state||{};if(!a||!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"結果データが見つかりません"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"セッションデータが利用できません。新しいクイズを開始してください。"}),e.jsx("button",{onClick:()=>r("/"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"ホームに戻る"})]})})});const c=Math.floor((new Date().getTime()-a.startedAt.getTime())/1e3),d=Math.floor(c/60),o=c%60,l=t=>t>=80?"text-green-600":t>=60?"text-yellow-600":"text-red-600",m=t=>t>=80?"素晴らしい結果です！":t>=60?"よくできました！":"もう少し頑張りましょう！";return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"クイズ結果"}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-6xl font-bold mb-4 ${l(s.accuracy)}`,children:[Math.round(s.accuracy),"%"]}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:m(s.accuracy)}),e.jsxs("p",{className:"text-gray-600",children:[s.correctAnswers," / ",s.totalQuestions," 問正解"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"セッション情報"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"モード:"}),e.jsx("span",{className:"font-medium",children:a.mode==="set"?"10問セット":"エンドレス"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"所要時間:"}),e.jsxs("span",{className:"font-medium",children:[d,"分",o,"秒"]})]}),s.averageTimePerQuestion&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"平均回答時間:"}),e.jsxs("span",{className:"font-medium",children:[Math.round(s.averageTimePerQuestion),"秒"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"開始時刻:"}),e.jsx("span",{className:"font-medium",children:a.startedAt.toLocaleTimeString()})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"パフォーマンス分析"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"正解数:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[s.correctAnswers,"問"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"不正解数:"}),e.jsxs("span",{className:"font-medium text-red-600",children:[s.totalQuestions-s.correctAnswers,"問"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"正答率:"}),e.jsxs("span",{className:`font-medium ${l(s.accuracy)}`,children:[Math.round(s.accuracy),"%"]})]})]})]})]}),Object.keys(s.domainBreakdown).length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ドメイン別成績"}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.domainBreakdown).map(([t,n])=>e.jsxs("div",{className:"border-b border-gray-200 pb-3 last:border-b-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t}),e.jsxs("span",{className:`font-medium ${l(n.accuracy)}`,children:[Math.round(n.accuracy),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[n.correct," / ",n.total," 問正解"]}),e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${n.accuracy}%`}})})]})]},t))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>r("/"),className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"新しいクイズを開始"}),e.jsx("button",{onClick:()=>r(`/quiz?mode=${a.mode}&count=${a.targetQuestionCount||10}`),className:"bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"同じ設定で再挑戦"}),e.jsx("button",{onClick:()=>window.print(),className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"結果を印刷"})]})]})})});export{N as default,b as meta};
